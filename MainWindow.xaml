<Window x:Class="ParoxInjector.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ParoxInjector"
        Height="400"
        Width="720"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ResizeMode="NoResize">

    <!-- Resources -->
    <Window.Resources>
        <!-- Action Button Template -->
        <ControlTemplate x:Key="ActionButtonTemplate" TargetType="Button">
            <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1">
                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF42426A"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <!-- Action Button Style -->
        <Style x:Key="ActionButton" TargetType="Button">
            <Setter Property="Background" Value="#FF5B5F97" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontFamily" Value="Global Monospace" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="BorderBrush">
                <Setter.Value>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="#FF5B5F97" Offset="0.4" />
                        <GradientStop Color="White" Offset="1" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="Template" Value="{StaticResource ActionButtonTemplate}"/>
        </Style>
    </Window.Resources>

    <!--Window-->
    <Border BorderBrush="#FF42426A"
            BorderThickness="2"
            CornerRadius="15"
            Background="#030027"
            ClipToBounds="True">
        <Border.Clip>
            <RectangleGeometry Rect="0,0,720,400" RadiusX="15" RadiusY="15"/>
        </Border.Clip>
        <Grid>

            <!--TitleBar-->
            <Border CornerRadius="10,10,0,0"
                    MouseDown="TOPDRAG"
                    Style="{StaticResource TitleBar}">
                <Grid Name="TitleBar">
                    <TextBlock Text="Info" Style="{StaticResource InfoBlock}"/>
                    <TextBlock Text="P a r o x" Style="{StaticResource TitleBlock}"/>

                    <StackPanel Style="{StaticResource WindowToolPanel}">
                        <Button Content="-" Style="{StaticResource WindowTool}" Click="MINIMIZE" ToolTip="Minimize Window" FontSize="20"/>
                        <Button Content="ðŸ—–" Style="{StaticResource WindowTool}" ToolTip="Disabled / Non resizeable"/>
                        <Button Content="X" Style="{StaticResource WindowTool}" Click="CLOSE" ToolTip="Close Window"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Process List -->
            <ListBox Name="FilterPass"
         HorizontalAlignment="Left"
         Width="500"
         Height="375"
         Margin="217,28,0,0"
         BorderBrush="#FFCECEEC"
         BorderThickness="1,0,1,1"
         SelectionChanged="PROCESSLIST_SELECTIONCHANGED"
         Background="#151E3F"
         ScrollViewer.VerticalScrollBarVisibility="Disabled"
         ScrollViewer.HorizontalScrollBarVisibility="Disabled" Grid.Column="1">
                <ListBox.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="0,0,15,0"/>
                    </Style>
                </ListBox.Resources>
            </ListBox>

            <!-- Process Info -->
            <StackPanel Width="217" Height="auto" HorizontalAlignment="Left" Margin="0,25,0,0">
                <!-- Process ID -->
                <StackPanel Grid.Column="0" Orientation="Horizontal"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="10,10,0,0">
                    <TextBlock Text="Process ID" Foreground="#FFCECEEC" FontFamily="Global Monospace"/>
                    <TextBlock Name="PROCESSID" Foreground="White" FontFamily="Global Monospace" Margin="-72,20,0,0"/>
                    <TextBlock Name="PROCESSNAME" Visibility="Collapsed"/>
                </StackPanel>

                <!-- DLL Info -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,0,0,0">
                    <TextBlock Text="Hook DLL" VerticalAlignment="Center" Foreground="#FFCECEEC" FontFamily="Global Monospace"/>
                    <TextBlock Name="DLLName" Height="Auto" Foreground="White" FontFamily="Global Monospace" VerticalAlignment="Center" Margin="-58,35,0,0" TextWrapping="WrapWithOverflow"/>
                    <TextBox Name="DLLPath" Visibility="Collapsed"/>
                </StackPanel>
            </StackPanel>


            <!-- Recent DLLs -->
            <StackPanel Name="RECENTDLLCONTAINER"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            Width="215" Grid.ColumnSpan="2">
                <TextBlock Text="â†“Recentâ†“"
               Foreground="#FFCECEEC"
               HorizontalAlignment="Center"
               FontFamily="Global Monospace"/>
                <TextBlock Text="______________________________"
               Foreground="White"
               FontFamily="Global Monospace"
               Margin="0,0,0,0"/>
            </StackPanel>

            <!-- Main Content Grid -->
            <Grid Margin="0,30,0,0"
                  ScrollViewer.VerticalScrollBarVisibility="Disabled"
                  ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Opacity Mask for Content -->
                <Grid.OpacityMask>
                    <VisualBrush>
                        <VisualBrush.Visual>
                            <Rectangle Width="1" Height="1" Fill="White" />
                        </VisualBrush.Visual>
                    </VisualBrush>
                </Grid.OpacityMask>

                <!-- Action Buttons -->
                <Button Content="Refresh Apps"
                        Style="{StaticResource ActionButton}"
                        Width="100"
                        Height="24"
                        Margin="0,0,10,10"
                        Click="RoutedRefresh"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Bottom"
                        ToolTip="Refreshes process list" Grid.Column="1"/>
                <Button Content="Hook"
                        Style="{StaticResource ActionButton}"
                        Width="100"
                        Height="24"
                        Margin="0,0,120,10"
                        Click="Hook"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Bottom"
                        ToolTip="Injects DLL" Grid.Column="1"/>
                <Button Content="Load DLL"
                        Style="{StaticResource ActionButton}"
                        Width="100"
                        Height="24"
                        Margin="0,0,230,10"
                        Click="LOAD"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Bottom"
                        ToolTip="Choose DLL to Inject" Grid.Column="1"/>
            </Grid>
        </Grid>
    </Border>
</Window>
